package com.app.staysafefinal;import androidx.annotation.NonNull;import androidx.appcompat.app.AppCompatActivity;import android.content.Intent;import android.os.Bundle;import android.text.TextUtils;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.ImageView;import android.widget.ProgressBar;import android.widget.TextView;import android.widget.Toast;import com.google.android.gms.tasks.OnCompleteListener;import com.google.android.gms.tasks.Task;import com.google.firebase.auth.AuthResult;import com.google.firebase.auth.FirebaseAuth;public class LoginActivity extends AppCompatActivity {    private ImageView earthimg;    private TextView logintv,createnewaccounttv,skiptv;    private Button loginbt;    private EditText inputEmail,inputPassword;    private FirebaseAuth auth;    private ProgressBar progressBarLogin;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        logintv = findViewById(R.id.logintv);        inputEmail = findViewById(R.id.emailetLG);        inputPassword = findViewById(R.id.passwordetLG);        loginbt = findViewById(R.id.loginbt);        createnewaccounttv = findViewById(R.id.createaccounttv);        skiptv = findViewById(R.id.skiptv);        progressBarLogin = findViewById(R.id.progressBarLogin);        auth = FirebaseAuth.getInstance();        progressBarLogin.setVisibility(View.GONE);        if (auth.getCurrentUser() != null) {            startActivity(new Intent(LoginActivity.this, ProfilePage.class));            finish();        }        skiptv.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Intent intent = new Intent(getApplicationContext(),ProfilePage.class);                startActivity(intent);            }        });        createnewaccounttv.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                Intent intent = new Intent(getApplicationContext(),SignupPage.class);                startActivity(intent);            }        });        loginbt.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                loginbt.setVisibility(View.GONE);                progressBarLogin.setVisibility(View.VISIBLE);                String email = inputEmail.getText().toString();                final String password = inputPassword.getText().toString();                if (TextUtils.isEmpty(email)) {                    loginbt.setVisibility(View.VISIBLE);                    progressBarLogin.setVisibility(View.GONE);                    Toast.makeText(getApplicationContext(), "قم بادخال البريد الخاص بك", Toast.LENGTH_SHORT).show();                    return;                }                if (TextUtils.isEmpty(password)) {                    loginbt.setVisibility(View.VISIBLE);                    progressBarLogin.setVisibility(View.GONE);                    Toast.makeText(getApplicationContext(), "ادخل كلمه المرور الخاصه بك", Toast.LENGTH_SHORT).show();                    return;                }                //authenticate user                auth.signInWithEmailAndPassword(email, password)                        .addOnCompleteListener(LoginActivity.this, new OnCompleteListener<AuthResult>() {                            @Override                            public void onComplete(@NonNull Task<AuthResult> task) {                                // If sign in fails, display a message to the user. If sign in succeeds                                // the auth state listener will be notified and logic to handle the                                // signed in user can be handled in the listener.                                if (!task.isSuccessful()) {                                    // there was an error                                    if (password.length() < 6) {                                        loginbt.setVisibility(View.VISIBLE);                                        progressBarLogin.setVisibility(View.GONE);                                        inputPassword.setError(getString(R.string.minimum_password));                                    } else {                                        loginbt.setVisibility(View.VISIBLE);                                        progressBarLogin.setVisibility(View.GONE);                                        Toast.makeText(LoginActivity.this, getString(R.string.auth_failed), Toast.LENGTH_LONG).show();                                    }                                } else {                                    Intent intent = new Intent(LoginActivity.this, ProfilePage.class);                                    startActivity(intent);                                    finish();                                }                            }                        });            }        });    }    @Override    public void onBackPressed(){        Toast.makeText(getApplicationContext(),"Back button is disabled",Toast.LENGTH_LONG);    }}